import React from "react";
import PropTypes from "prop-types";
import withRouter from "HOCs/withRouter";
import { postLogout } from "Service/api";
import { SideBarItem, Column } from "Components";
import { useNavigate } from "react-router-dom";

const SideBar = ({ location }) => {

  const navigate = useNavigate();

  const isHome = location.pathname === '/dashboard';
  const isMusic = location.pathname.includes('/music');
  const isPayments = location.pathname.includes('payments');
  const isEarnings = location.pathname.includes('earnings');
  const isSettings = location.pathname.includes('settings');

  const logout = async (e) => {
    e.preventDefault();
    await postLogout()
      .then((res) => {
        localStorage.clear();
        navigate("/login", { replace: true });
      })
      .catch((err) => {
        console.error(err);
      });
  }

  return (
    <>
      <aside className="bg-black_901 flex-shrink min-w-[94px] md:min-w-[244px] md:max-w-[300px] xs:py-0 md:py-6 sticky overflow-auto py-6 min-h-screen">

        <Column className="h-full">
          <a id="homepage-link" aria-label="homepage" href="/" data-event-label="Solution logo" className="pl-6 hidden md:block">
            <svg width="105" viewBox="0 0 105 86" fill="none" xmlns="http://www.w3.org/2000/svg">
              <mask id="mask0_0_7651" maskUnits="userSpaceOnUse" x="0" y="0" width="105" height="86">
                <path fillRule="evenodd" clipRule="evenodd" d="M0 0H104.77V86.0002H0V0Z" fill="white" />
              </mask>
              <g mask="url(#mask0_0_7651)">
                <path fillRule="evenodd" clipRule="evenodd" d="M27.531 63.6526L27.9641 62.6805C28.5042 63.1136 29.3608 63.4216 30.1885 63.4216C31.2387 63.4216 31.6814 63.0463 31.6814 62.5458C31.6814 61.0914 27.6764 62.0442 27.6764 59.5407C27.6764 58.4542 28.5416 57.5291 30.3906 57.5291C31.2002 57.5291 32.0471 57.7409 32.6332 58.1259L32.2386 59.098C31.6333 58.7419 30.9692 58.5686 30.381 58.5686C29.3415 58.5686 28.918 58.9729 28.918 59.484C28.918 60.9181 32.9134 59.9835 32.9134 62.4591C32.9134 63.5371 32.0375 64.4611 30.1885 64.4611C29.1394 64.4611 28.0892 64.1339 27.531 63.6526" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M34.2689 60.995C34.2689 59.0027 35.8088 57.5301 37.8985 57.5301C39.987 57.5301 41.5281 58.9931 41.5281 60.995C41.5281 62.9981 39.987 64.461 37.8985 64.461C35.8088 64.461 34.2689 62.9884 34.2689 60.995ZM40.2672 60.995C40.2672 59.6187 39.2566 58.6273 37.8985 58.6273C36.5414 58.6273 35.5297 59.6187 35.5297 60.995C35.5297 62.3724 36.5414 63.3638 37.8985 63.3638C39.2566 63.3638 40.2672 62.3724 40.2672 60.995Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M43.4513 57.625H44.7025V63.3057H48.2262V64.3645H43.4513L43.4513 57.625Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M49.6587 61.4278V57.625H50.9099V61.3797C50.9099 62.7667 51.5366 63.3635 52.6232 63.3635C53.7118 63.3635 54.3278 62.7667 54.3278 61.3797V57.625H55.5608V61.4278C55.5608 63.3924 54.4529 64.4607 52.6146 64.4607C50.7656 64.4607 49.6587 63.3924 49.6587 61.4278" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M59.1491 58.6837H56.9162V57.625H62.6354V58.6837H60.4014V64.3644H59.1491L59.1491 58.6837Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M64.1736 57.6255H65.4248V64.3649H64.1736V57.6255Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M67.3579 60.995C67.3579 59.0027 68.8979 57.5301 70.9875 57.5301C73.0761 57.5301 74.6171 58.9931 74.6171 60.995C74.6171 62.9981 73.0761 64.461 70.9875 64.461C68.8979 64.461 67.3579 62.9884 67.3579 60.995ZM73.3552 60.995C73.3552 59.6187 72.3446 58.6273 70.9875 58.6273C69.6305 58.6273 68.6188 59.6187 68.6188 60.995C68.6188 62.3724 69.6305 63.3638 70.9875 63.3638C72.3446 63.3638 73.3552 62.3724 73.3552 60.995Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M82.5286 57.625V64.3645H81.4988L77.7836 59.8002V64.3645H76.5399V57.625H77.5708L81.287 62.1893V57.625H82.5286Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M25.1679 83.6986V67.8852C26.2523 67.8307 27.1955 67.743 28.1387 67.7408C44.5318 67.6959 60.9249 67.6884 77.3179 67.5922C79.3359 67.5804 81.4373 67.3901 83.3505 66.7997C87.333 65.5688 89.3371 61.2997 88.4719 56.5398C87.8324 53.0257 84.4092 50.3735 80.2075 50.3414C72.189 50.2805 64.1705 50.3093 56.152 50.3179C46.4385 50.3275 38.1955 47.0861 33.1339 38.4827C27.743 29.3189 28.605 19.9711 33.9071 10.9239C34.1285 10.5485 34.337 10.1646 34.5349 9.77637C34.5637 9.71863 34.5017 9.61488 34.3937 9.17215C33.6483 9.22561 32.8046 9.16573 32.0228 9.3593C15.6565 13.406 6.11623 24.0884 3.53894 40.3691C2.9005 44.4008 2.94649 48.9148 4.11001 52.7744C6.2221 59.7769 4.25866 66.6853 5.30775 73.8108C2.31018 73.1852 0.444049 71.5565 0.187395 69.207C-0.220055 65.479 0.0793841 61.6751 0.677186 57.8701C0.779851 60.2186 0.882517 62.5681 0.985182 64.9176C1.18089 64.9026 1.37766 64.8887 1.57336 64.8737C1.57336 57.8648 2.31767 50.75 1.34665 43.8779C0.511429 37.963 2.12839 33.0265 4.25866 27.9885C6.75254 22.095 10.5607 17.0495 15.2255 12.6937C22.6291 5.7821 31.5245 1.78142 41.4861 0.735536C48.803 -0.0323011 56.2248 0.0778443 63.6016 0.0307902C76.0742 -0.0504825 88.5468 0.0511058 101.019 0.0842571C101.892 0.0863914 102.764 0.15805 103.802 0.205104V16.7158C102.736 16.7158 101.706 16.7147 100.676 16.7158C85.1738 16.7244 69.6716 16.7115 54.1694 16.7522C49.265 16.765 46.5412 19.4835 45.7541 24.9428C45.2494 28.4452 47.7657 32.3218 51.4349 33.2885C53.2144 33.7569 55.1211 33.8831 56.9734 33.9088C65.1597 34.0254 73.3622 33.7676 81.5325 34.1729C93.9826 34.7921 103.351 42.9935 104.578 55.6372C105.37 63.7819 103.831 71.0293 97.6775 76.7571C92.8801 81.224 87.0967 83.643 80.5155 83.6719C63.2316 83.7478 45.9466 83.6986 28.6627 83.6986H25.1679Z" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M12.1317 63.5255C12.1285 58.0105 12.1124 52.4956 12.1338 46.9816C12.1488 43.0719 13.7336 41.3394 17.2114 41.3469C21.0698 41.3555 22.5627 42.8815 22.5777 46.9303C22.6173 57.9367 22.6643 68.9442 22.6429 79.9517C22.6344 84.5128 21.1308 86.0805 17.1515 85.996C13.6577 85.9233 12.1926 84.5031 12.152 80.8704C12.0878 75.0891 12.1349 69.3068 12.1317 63.5255" fill="#3BE6AF" />
                <path fillRule="evenodd" clipRule="evenodd" d="M10.9421 46.5423V80.4749C8.0108 81.2502 6.69115 80.446 6.66975 77.6794C6.5981 68.4418 6.59275 59.2031 6.63874 49.9645C6.65264 47.1038 7.6996 46.3103 10.9421 46.5423" fill="#3BE6AF" />
              </g>
            </svg>
          </a>

          <div className="flex flex-col justify-between h-full flex-grow-1 md:mt-[50px]">
            <ul className="flex flex-col space-y-[10px]">

              <SideBarItem title="Home" icon={<svg width="24" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M13.4443 21.6765H7.55607C7.07048 21.6765 6.6768 21.2829 6.67666 20.7973V15.7034C6.67666 13.5914 8.38877 11.8793 10.5008 11.8793C12.6127 11.8793 14.3249 13.5914 14.3249 15.7034V20.7973C14.3248 21.0307 14.232 21.2545 14.0668 21.4194C13.9016 21.5843 13.6777 21.6768 13.4443 21.6765ZM8.43412 19.9179H12.5642V15.7034C12.5647 14.5627 11.6399 13.6379 10.4992 13.6379C9.35842 13.6379 8.43367 14.5627 8.43367 15.7034L8.43412 19.9179Z" fill="white" />
                <path fillRule="evenodd" clipRule="evenodd" d="M17.5985 21.6774H3.40127C2.91568 21.6774 2.52198 21.2838 2.52186 20.7982V12.004H0.87895C0.528561 12.0039 0.211694 11.7958 0.0724371 11.4743C-0.0668198 11.1527 -0.00185858 10.7792 0.237759 10.5236L9.85813 0.266133C10.028 0.0957545 10.2586 0 10.4992 0C10.7398 0 10.9705 0.0957648 11.1403 0.266133L20.7618 10.5236C21.0016 10.7792 21.0667 11.1528 20.9274 11.4744C20.7882 11.796 20.4711 12.0042 20.1206 12.004H18.4777V20.7982C18.4776 21.2837 18.084 21.6772 17.5985 21.6774ZM4.28045 19.9188H16.7191V11.1246C16.7192 10.639 17.1129 10.2454 17.5985 10.2454H18.0907L10.4998 2.15296L2.90884 10.2454H3.40126C3.88677 10.2456 4.28032 10.6391 4.28045 11.1246V19.9188Z" fill="white" />
              </svg>}
                isActive={isHome}
                href="/" />

              <SideBarItem title="Music" icon={<svg width="24" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M21 5.24999C21 4.67009 20.5299 4.19999 19.95 4.19999H18.9V1.05C18.9 0.470097 18.4299 0 17.85 0H3.14999C2.57009 0 2.1 0.470097 2.1 1.05V4.19999H1.05C0.470097 4.19999 0 4.67009 0 5.24999V19.95C0 20.5299 0.470097 21 1.05 21H19.95C20.5299 21 21 20.5299 21 19.95L21 5.24999ZM4.19999 2.09999H16.8V4.19998H4.19999V2.09999ZM18.9 18.9H2.1V6.29999H18.9V18.9ZM12.6 7.61249C12.0201 7.61249 11.55 8.08259 11.55 8.66249V11.4807C11.2137 11.3563 10.8585 11.291 10.5 11.2875C8.7603 11.2875 7.34999 12.6978 7.34999 14.4375C7.34999 16.1772 8.76029 17.5875 10.5 17.5875C12.2397 17.5875 13.65 16.1772 13.65 14.4375V8.66249C13.65 8.08259 13.1799 7.61249 12.6 7.61249H12.6ZM10.5 15.4875C9.92009 15.4875 9.44999 15.0174 9.44999 14.4375C9.44999 13.8576 9.92009 13.3875 10.5 13.3875C11.0799 13.3875 11.55 13.8576 11.55 14.4375C11.55 15.0174 11.0799 15.4875 10.5 15.4875Z" fill="white" />
              </svg>}
                isActive={isMusic}
                href="/music" />

              <SideBarItem title="Payments" icon={<svg width="24" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M15.2 19C17.2987 19 19 17.2987 19 15.2V0.949995C19 0.425328 18.5747 -1.04586e-05 18.05 1.92877e-10C17.5253 1.92877e-10 17.1 0.425328 17.1 0.950005V11.9282C16.5249 11.5863 15.869 11.4039 15.2 11.4C13.1013 11.4 11.4 13.1013 11.4 15.2C11.4 17.2987 13.1013 19 15.2 19V19ZM15.2 13.3C16.2493 13.3 17.1 14.1506 17.1 15.2C17.1 16.2493 16.2493 17.1 15.2 17.1C14.1507 17.1 13.3 16.2493 13.3 15.2C13.3 14.1506 14.1507 13.3 15.2 13.3ZM9.5 11.875H0.949995C0.425328 11.875 0 11.4497 0 10.925C0 10.4003 0.425328 9.97499 0.949995 9.97499H9.5C10.0247 9.97499 10.45 10.4003 10.45 10.925C10.45 11.4497 10.0247 11.875 9.5 11.875ZM8.55 16.15C9.07467 16.15 9.5 16.5753 9.5 17.1C9.5 17.6247 9.07467 18.05 8.55 18.05H0.950005C0.425339 18.05 1.04588e-05 17.6247 1.04588e-05 17.1C1.04588e-05 16.5753 0.425339 16.15 0.950005 16.15H8.55ZM14.25 5.69999H0.949995C0.425328 5.69999 0 5.27466 0 4.74998C0 4.22532 0.425328 3.79998 0.949995 3.79998H14.25C14.7747 3.79998 15.2 4.22531 15.2 4.74998C15.2 5.27465 14.7747 5.69999 14.25 5.69999Z" fill="white" />
              </svg>}
                isActive={isPayments}
                href="/payments" />

              <SideBarItem title="Earnings" icon={<svg width="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C20.43 1.25 22.75 3.57 22.75 9V15C22.75 20.43 20.43 22.75 15 22.75ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V9C21.25 4.39 19.61 2.75 15 2.75H9Z" fill="white" />
                <path fillRule="evenodd" clipRule="evenodd" d="M7.33011 15.24C7.17011 15.24 7.01011 15.19 6.87011 15.08C6.54011 14.83 6.48011 14.36 6.73011 14.03L9.11011 10.94C9.40011 10.57 9.81011 10.33 10.2801 10.27C10.7401 10.21 11.2101 10.34 11.5801 10.63L13.4101 12.07C13.4801 12.13 13.5501 12.13 13.6001 12.12C13.6401 12.12 13.7101 12.1 13.7701 12.02L16.0801 9.04001C16.3301 8.71001 16.8101 8.65001 17.1301 8.91001C17.4601 9.16001 17.5201 9.63001 17.2601 9.96001L14.9501 12.94C14.6601 13.31 14.2501 13.55 13.7801 13.6C13.3101 13.66 12.8501 13.53 12.4801 13.24L10.6501 11.8C10.5801 11.74 10.5001 11.74 10.4601 11.75C10.4201 11.75 10.3501 11.77 10.2901 11.85L7.91011 14.94C7.78011 15.14 7.56011 15.24 7.33011 15.24Z" fill="white" />
              </svg>}
                isActive={isEarnings}
                href="/earnings" />

              <SideBarItem title="Settings" icon={<svg width="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M12 15.75C9.93 15.75 8.25 14.07 8.25 12C8.25 9.93 9.93 8.25 12 8.25C14.07 8.25 15.75 9.93 15.75 12C15.75 14.07 14.07 15.75 12 15.75ZM12 9.75C10.76 9.75 9.75 10.76 9.75 12C9.75 13.24 10.76 14.25 12 14.25C13.24 14.25 14.25 13.24 14.25 12C14.25 10.76 13.24 9.75 12 9.75Z" fill="white" />
                <path fillRule="evenodd" clipRule="evenodd" d="M15.21 22.1898C15 22.1898 14.79 22.1598 14.58 22.1098C13.96 21.9398 13.44 21.5498 13.11 20.9998L12.99 20.7998C12.4 19.7798 11.59 19.7798 11 20.7998L10.89 20.9898C10.56 21.5498 10.04 21.9498 9.42 22.1098C8.79 22.2798 8.14 22.1898 7.59 21.8598L5.87 20.8698C5.26 20.5198 4.82 19.9498 4.63 19.2598C4.45 18.5698 4.54 17.8598 4.89 17.2498C5.18 16.7398 5.26 16.2798 5.09 15.9898C4.92 15.6998 4.49 15.5298 3.9 15.5298C2.44 15.5298 1.25 14.3398 1.25 12.8798V11.1198C1.25 9.6598 2.44 8.4698 3.9 8.4698C4.49 8.4698 4.92 8.2998 5.09 8.0098C5.26 7.7198 5.19 7.2598 4.89 6.7498C4.54 6.1398 4.45 5.4198 4.63 4.7398C4.81 4.0498 5.25 3.4798 5.87 3.1298L7.6 2.1398C8.73 1.4698 10.22 1.8598 10.9 3.0098L11.02 3.2098C11.61 4.2298 12.42 4.2298 13.01 3.2098L13.12 3.0198C13.8 1.8598 15.29 1.4698 16.43 2.1498L18.15 3.1398C18.76 3.4898 19.2 4.0598 19.39 4.7498C19.57 5.4398 19.48 6.1498 19.13 6.7598C18.84 7.2698 18.76 7.7298 18.93 8.0198C19.1 8.3098 19.53 8.4798 20.12 8.4798C21.58 8.4798 22.77 9.6698 22.77 11.1298V12.8898C22.77 14.3498 21.58 15.5398 20.12 15.5398C19.53 15.5398 19.1 15.7098 18.93 15.9998C18.76 16.2898 18.83 16.7498 19.13 17.2598C19.48 17.8698 19.58 18.5898 19.39 19.2698C19.21 19.9598 18.77 20.5298 18.15 20.8798L16.42 21.8698C16.04 22.0798 15.63 22.1898 15.21 22.1898ZM12 18.4898C12.89 18.4898 13.72 19.0498 14.29 20.0398L14.4 20.2298C14.52 20.4398 14.72 20.5898 14.96 20.6498C15.2 20.7098 15.44 20.6798 15.64 20.5598L17.37 19.5598C17.63 19.4098 17.83 19.1598 17.91 18.8598C17.99 18.5598 17.95 18.2498 17.8 17.9898C17.23 17.0098 17.16 15.9998 17.6 15.2298C18.04 14.4598 18.95 14.0198 20.09 14.0198C20.73 14.0198 21.24 13.5098 21.24 12.8698V11.1098C21.24 10.4798 20.73 9.9598 20.09 9.9598C18.95 9.9598 18.04 9.5198 17.6 8.7498C17.16 7.9798 17.23 6.9698 17.8 5.9898C17.95 5.7298 17.99 5.4198 17.91 5.1198C17.83 4.8198 17.64 4.5798 17.38 4.4198L15.65 3.4298C15.22 3.1698 14.65 3.3198 14.39 3.7598L14.28 3.9498C13.71 4.9398 12.88 5.4998 11.99 5.4998C11.1 5.4998 10.27 4.9398 9.7 3.9498L9.59 3.7498C9.34 3.3298 8.78 3.1798 8.35 3.4298L6.62 4.4298C6.36 4.5798 6.16 4.8298 6.08 5.1298C6 5.4298 6.04 5.7398 6.19 5.9998C6.76 6.9798 6.83 7.9898 6.39 8.7598C5.95 9.5298 5.04 9.9698 3.9 9.9698C3.26 9.9698 2.75 10.4798 2.75 11.1198V12.8798C2.75 13.5098 3.26 14.0298 3.9 14.0298C5.04 14.0298 5.95 14.4698 6.39 15.2398C6.83 16.0098 6.76 17.0198 6.19 17.9998C6.04 18.2598 6 18.5698 6.08 18.8698C6.16 19.1698 6.35 19.4098 6.61 19.5698L8.34 20.5598C8.55 20.6898 8.8 20.7198 9.03 20.6598C9.27 20.5998 9.47 20.4398 9.6 20.2298L9.71 20.0398C10.28 19.0598 11.11 18.4898 12 18.4898Z" fill="white" />
              </svg>}
                isActive={isSettings}
                href="/settings" />

              <li>
                <a aria-label="Logout" title="Logout" href="#" className="flex flex-row space-x-4 hover:no-underline hover:bg-gray_601 cursor-pointer ml-6 px-[10px] py-[10px] text-teal_A400"
                  onClick={logout}>
                  <svg width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M15.24 22.27H15.11C10.67 22.27 8.53001 20.52 8.16001 16.6C8.12001 16.19 8.42001 15.82 8.84001 15.78C9.24001 15.74 9.62001 16.05 9.66001 16.46C9.95001 19.6 11.43 20.77 15.12 20.77H15.25C19.32 20.77 20.76 19.33 20.76 15.26V8.73998C20.76 4.66998 19.32 3.22998 15.25 3.22998H15.12C11.41 3.22998 9.93001 4.41998 9.66001 7.61998C9.61001 8.02998 9.26001 8.33998 8.84001 8.29998C8.42001 8.26998 8.12001 7.89998 8.15001 7.48998C8.49001 3.50998 10.64 1.72998 15.11 1.72998H15.24C20.15 1.72998 22.25 3.82998 22.25 8.73998V15.26C22.25 20.17 20.15 22.27 15.24 22.27Z" />
                    <path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M15.0001 12.75H3.62012C3.21012 12.75 2.87012 12.41 2.87012 12C2.87012 11.59 3.21012 11.25 3.62012 11.25H15.0001C15.4101 11.25 15.7501 11.59 15.7501 12C15.7501 12.41 15.4101 12.75 15.0001 12.75Z" />
                    <path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M5.85043 16.0994C5.66043 16.0994 5.47043 16.0294 5.32043 15.8794L1.97043 12.5294C1.68043 12.2394 1.68043 11.7594 1.97043 11.4694L5.32043 8.11936C5.61043 7.82936 6.09043 7.82936 6.38043 8.11936C6.67043 8.40936 6.67043 8.88936 6.38043 9.17936L3.56043 11.9994L6.38043 14.8194C6.67043 15.1094 6.67043 15.5894 6.38043 15.8794C6.24043 16.0294 6.04043 16.0994 5.85043 16.0994Z" />
                  </svg>
                  <span className="hidden md:block">Logout</span>
                </a>
              </li>
            </ul>
          </div>
        </Column>

      </aside>
    </>
  );
};

SideBar.propTypes = {
  location: PropTypes.object.isRequired
};

export default withRouter(SideBar);